{
    "title": "map-chart",
    "description": "A map-chart",
    "type": "object",
    "properties": {
        "settings": {
            "description": "Settings",
            "type": "object",
            "properties": {
                "title": {
                    "title": "Title",
                    "type": "string"
                },
                "subTitle": {
                    "title": "Subtitle",
                    "type": "string"
                }, 
                "style": {
                    "title": "Map Style",
                    "description": "The basic style of the map. Can be one of streets-v12, outdoors-v12, light-v11, dark-v11, satellite-v9, satellite-streets-v12, navigation-day-v1, navigation-night-v1.",
                    "type": "string"
                }, 
                "showLegend": {
                    "title": "Show Legend",
                    "type": "boolean"
                }
            },
            "required": ["style"]
        },
        "dataseries": {
            "title": "Dataseries",
            "type": "array",
            "items": {
                "type": "object",
                "required": ["type"],
                "properties": {
                    "label": {
                        "title": "Series Label",
                        "description": "The name for this data series",
                        "type": "string"
                    },
                    "type": {
                        "title": "Point type",
                        "description": "Can be one of ''circle'', ...",
                        "type": "string"
                    },
                    "order": {
                        "title": "Draw Order",
                        "description": "Determines the draw order of the series. Dataseries with lower numbers are drawn on top of ones with higher numbers.",
                        "type": "number"
                    },
                    "color": {
                        "title": "Default color",
                        "description": "Give the color as a browser standard form. Either with names like ''red'', ''green'', etc. or as #de432b where two hex digits represent Red Green Blue in this order.",
                        "type": "color"
                    },
                    "latestValues": {
                        "title": "Latest Values",
                        "description": "Restrict the number of rows for this dataseries to the given number of newest values. (If pivoted, then per each of the pivot dataseries.)",
                        "type": "number"
                    },
                    "config": {
                        "title": "Layer Configuration",
                        "type": "object",
                        "properties": {
                            "circle": {
                                "title": "Circle Layer",
                                "type": "Object",
                                "properties": {
                                    "circle-blur": {
                                        "title": "Blur",
                                        "min": 0,
                                        "max": 1,
                                        "type": "number"
                                    },
                                    "circle-opacity": {
                                        "title": "Opacity",
                                        "min": 0,
                                        "max": 1,
                                        "type": "number"
                                    }
                                }
                            },
                            "symbol": {
                                "title": "Text Layer",
                                "type": "Object",
                                "properties": {
                                    "text-color": {
                                        "title": "Text Color",
                                        "type": "string"
                                    },
                                    "text-size": {
                                        "title": "Text Size",
                                        "type": "number",
                                        "min": 1
                                    },
                                    "icon-image": {
                                        "title": "Icon Name",
                                        "type": "string"
                                    },
                                    "icon-size": {
                                        "title": "Icon size",
                                        "description": "In multiples of the original icon size",
                                        "type": "number",
                                        "min": 0
                                    }
                                }
                            },
                            "heatmap": {
                                "title": "Heatmap Layer",
                                "type": "Object",
                                "properties": {
                                    "heatmap-intensity": {
                                        "title": "Intensity",
                                        "type": "number",
                                        "min": 0
                                    },
                                    "heatmap-opacity": {
                                        "title": "Opacity",
                                        "type": "number",
                                        "min": 0,
                                        "max": 1
                                    },
                                    "heatmap-radius": {
                                        "title": "Radius Base Size",
                                        "description": "Is adjusted according to the value field.",
                                        "type": "number",
                                        "min": 0
                                    }
                                }
                            },
                            "line": {
                                "title": "Track Layer",
                                "type": "Object",
                                "properties": {
                                    "line-width": {
                                        "title": "Line Width",
                                        "type": "number",
                                        "min": 1
                                    }
                                }
                            }
                        }
                    },
                    "data": {
                        "title": "Map data",
                        "description": "This is the map data",
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "lon": {
                                    "title": "Longitude",
                                    "type": "number"
                                },
                                "lat": {
                                    "title": "Latitude",
                                    "type": "number"
                                },
                                "alt": {
                                    "title": "Altitude",
                                    "type": "number"
                                },
                                "value": {
                                    "title": "A value for the data point",
                                    "type": "number"
                                },
                                "pivot": {
                                    "title": "Pivot Column",
                                    "description": "You can specify a column in the input data to autogenerate dataseries for each distinct entry in this column. E.g. if you have a table with columns [city, lon, lat, temperature] and specify ''city'' as pivot column, then you will get a layer for each city.",
                                    "type": "string"
                                }
                            },
                            "required": ["lon", "lat"]
                        }
                    }
                }
            }
        }
    }
}